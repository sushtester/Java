BDD- Behaivor Data Driven

#1. Feature files - create differebt scenarios using Gherkins keyworks such as given when then and 

#2. Step defination - Write methods to map the keywords wriiten in features file, for every annotaion there will be a method, each feature there will different 
step defunation 

#3. Utility - for common generic functions 

#4. Test Runner 


#Create maven project - Then download cucumber for ecclipse plugin - Help - cucumber for ecclipse plugin

#Pox.xml - From cucumber java skeleton - add properties, dependencies and build 

#Create appfeatured package in which add a feature file, Search.Feature 


#1. We need to download the Cucumber plugin for ecllipse
#2. Dependancies - Junit, IO Cucumber 



Note - We can add multiple scenarios in the same feature file - 



Gherkins Keywords such as Given, And, When, And, Then 

Create a Feature package add different features files - 


Features: name of features
  
 Scenarios: name of scenario
   Given
   And 
   When
   And
   Then
 
#Create stepdefination package
For each features file there will be a step definition/glue code/backend code -  where we can make coding for methods 

#Runner class - 
@RunWith(Cucumber.class)
@CucumberOptions(features= "src/test/resources/Features", glue= {"stepsdefinations"}, monochrome = true,
plugin= {"pretty", "html:target/Htmlreports.html"})


public class GoogleRunner {
	
	

}




Parameter for Cucumber -  


Feature: To check the Login flow

  Scenario Outline: Check the valid login with the credentails
    Given Browser of Site is open
    And User is on the Site URL
    When User enter the <username> and <password>
    And Click on the Login button
    Then User should be logging to the application

    Examples: 
      | username | password |
      | aloha    |    12345 |


A. When called parameter from features files, which we called as data table 
So in Example we write the data table 


Here is step definition - We need to change the When name to regular expression for any value and then pass the params in the method 

@When("^User enter the (.*) and (.*)$")
	public void user_enter_the_aloha_test_com_and_mypassword(String username, String password) {
		}


When send parameter we can also add params in double code like 
Feature: To check the Login flow

  Scenario Outline: Check the valid login with the credentails
    Given Browser of Site is open
    And User is on the Site URL
    When User enter the “” and “”
    And Click on the Login button
    Then User should be logging to the application



#Tags- 
Features: name of features
  
@smoke
 Scenarios: name of scenario
   Given
   And 
   When
   And
   Then


So runner file will bel like below - 
@RunWith(Cucumber.class)
@CucumberOptions(features= "src/test/resources/Features", glue= {"stepsdefinations"}, monochrome = true, tags= {“@smoke”}
plugin= {"pretty", "html:target/Htmlreports.html"})

@smoke @regression
Scenario:

Runner- 
tags= {“smoke” And “regression”}
tags= {“smoke” Or “regression”}

tags= “not @Skip”


We can also put tag name to 
@mustRun
Feature



Hooks - 
To run the block of code before and after each scenario 

Scenario Hooks- to run before and after scenario
Step Hooks -  to run before and after steps like when then and
Conditional Hooks - conditional as per the tags 




Create different runner class one is for smoke tags other will be for Sanity testing 


So in the steps definition we can write @Beore and @After methods which called as hook for scenario

Conditional hooks - We can write multiple hooks such as 
@Before (order= 1)
@Before (order =2)

So before each scenarios the hooks before and after will run 

@Before (“@smoke”)

Hooks are invisible to the readers as we defined those in the step definition 


#Background - 
For logins as each scenarios need a login so this common steps so it can put in the background section 

So common steps should be in background 


Backgrounds are visible to the user 


Background: user is logged into the application 
  Given User is on the login page
  When user enter the username and password 
 Then user navigate to the homepage 

Scenario: Check the logout functionality of the application
 When user clicks on logout button
 Then user should loggein out 


Cucumber Reports - 
How to generate HTML reports in the cucumber 
Maven Cucumber Reporting dependancy 

Apache maven plugin build need to add in POM.XML as well

Then add the plugin as json 


Questions - 
Cucumber Keywords - 
Annotations in cucumber - 
Cucumber Tags - smoke, sanity, regression, skip
Keywords uses under the cucumber options - feature, glue, monochrome=true, plugins, tags
Can user perform multiple examples for one scenario outline? - yes 
dryRun= which write in runner class, in the cucumberOpyions when dryRun is true then it checks all the features steps having the implemented methods in step definition or not 


CucumberOptions(feature={}, glue{}, tags= {“smoke” and “santity” and “not @Skip”}, plugin= {}, dryRun= true, )



#Cucumber with the Frameworks - 

TDD - Test data driven - Part of agile - so here user first write test cases for unit testing and then write code to pass
that test cases then refarctor the code again and again test 

BDD - Behvour data driver, as in TDD dev write unit test cases but those are not descriptive not able to understand by anybody so 
BDD is introduced to write test cases in simple language so test method names are understable 

So As soon as user story comes before Dev team start working we can analys and write the scenarios/features using gherkins 
and get it reviwed from the product owner so we can complete the features writing and steps code/glue code of that 
intially offcouse the code not completed that will done when dev completed the task 

Any one like Dev/QA/ productuct owner can write Gherkins features 

In BDD automatest test should drive the developemne, so no need to complete the task by Dev, we can write Gherkins before development done
infact Dev can read the gherkins scenarios/Feature and do there code as per the scenarios 

#Example Mapping - This is needed for to write the scenarios once user stroy comes so we can write different scenarios for the user story 
https://www.screencast.com/t/9SsLUHvp


#Create Maven project and add cucumber plugin to ecliipse 

#Cucumber iO- Cucumbaer java maven depandacy add 

#Then create Feature package - and add one .feature file and write Gherkins feature & run with cucumber you will see step defiation error

#Then add Step defination feataure and add those steps also turn the project to as cucumber projects so on write click steps it navigate to steps defination

#Structure - 
Feature:
 Rule: Rule name
  Background:
   Scenario:
     Given 
     When
     Then
     
   Scenario:
     Given 
     When
     Then
     
#Statemnets or we can say Ghenrikis Keywords - Given, when, Then, And , But

Given 
And 
When 
And 
Then 
And 

Given 
But
When 
But 
Then 
But

So instead of using multiple given when then we can user And But statments 

#Scenario Outline 

#Rule - Rule is for business rule like bascially from things, like form which page we test above feature 
Rule: Add cart from home page 
Background: // Common steps 
   Scenario:   //we can write a multiple scenari
     Given 
     When
     Then

Rule : Add cart from product page 
Background: //Common steps 
   Scenario:  //we can write a multiple scenario
     Given 
     When
     Then


##Import - Convert to cucumber project in order to see right click on steps to find the steps definations 
so Right click on project - Configure - Convert to cucumber project 

Feature: add to cart

  Scenario Outline: Check the add cart from store with quanity
    Given User is on store page
    When user select the product "<product_name>" and <quanity>
    Then user should see selected product with quantity <quanity>

    Examples: 
      | product_name | quanity |
      | Blue Shoes   |       1 |
      | Yellow Shoes |       2 |
     
     
String parameter is pass using "<>"

#Runner 

https://github.com/cucumber/cucumber-jvm/tree/main/testng

Create Runner class in same class

#Snippet - For proper test methods name - 
@CucumberOptions(plugin= {"pretty","html:target/cucumber.html", "summary"}, monochrome= true, dryRun=true, snippets= SnippetType.CAMELCASE)

#For Junit Runner class - We need a Cucumber Junit dependacy 

#For TestNg Runner class - We need a Cucumber TestNg Dependacy and select the SnippetType as per the runner class 

#Tags - 

A. Scenario Level - 
@CucumberOptions(plugin = {"pretty","html:target/cucumber.html", "summary"}, glue= {"awesomecuccumber"}, monochrome= true, dryRun=true,
snippets= SnippetType.CAMELCASE, tags= "@Smoke")

@Smoke
Scenario


@CucumberOptions(plugin = {"pretty","html:target/cucumber.html", "summary"}, glue= {"awesomecuccumber"}, monochrome= true, dryRun=true,
snippets= SnippetType.CAMELCASE, tags= "@Smoke or @Sanity")

@CucumberOptions(plugin = {"pretty","html:target/cucumber.html", "summary"}, glue= {"awesomecuccumber"}, monochrome= true, dryRun=true,
snippets= SnippetType.CAMELCASE, tags= "@Smoke and @Sanity")

@CucumberOptions(plugin = {"pretty","html:target/cucumber.html", "summary"}, glue= {"awesomecuccumber"}, monochrome= true, dryRun=true,
snippets= SnippetType.CAMELCASE, tags= "@Smoke and not @Sanity")


##Providing the paths of the feature file and glue code in the runner - 
Firstly src/test/java - All packages such as runner, Steps defination package, Hooks pakage

src/test/resource - Feature file package 

@CucumberOptions(plugin = {"pretty","html:target/cucumber.html", "summary"}, glue= {"steps", "hooks"}, monochrome= true,
snippets= SnippetType.CAMELCASE, tags= "@Smoke or @Sanity", 
features= "src/test/resources/awesomecuccumber")

Link - https://www.screencast.com/t/ivs7IwSd


#Cucumber Expression - Regular expressions are quite hard so better we can use the Cucumber expressions 

https://github.com/cucumber/cucumber-expressions#readme


#Optional Text - So we can user common step defiantion for two multiple steps if some particular text is change for another steps

#Alernative Text - Using /

#Custome parameters 

#DataTable datatable - 

Feature: Data Table

  Scenario: To check the credenatials
    Given User Name and Password
      | sushant | 1105 |


public class DataTableSteps {
	
	@Given("User Name and Password")
	public void user_name_and_password(DataTable datatable) {
		
		List <String> list= datatable.row(0);
		
		System.out.println(list.get(0));
		System.out.println(list.get(1));

	}



#DataTable - 
Feature: my working

  Scenario: My working scenarios to check
    Given I am on the page of the main
      | Sushant | Pawar |
      
Steps - 
List we can use - so our method with parameter as DataTable 
	@Given("I am on the page of the main")
	public void i_am_on_the_page_of_the_main(DataTable dataTable) {
		
		List<String> list= dataTable.row(0);
		System.out.println(list.get(0));
		System.out.println(list.get(1));
		
Notes - When multiple rows - then user List of List

#When multiple rows 




